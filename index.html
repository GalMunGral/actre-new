<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script src="/test.js"></script>
    <div id="app"></div>
    <script>
      const Count = ({ count }) => [["p", {}, [["text", {}, count]]]];
      const AddButton = ({ increment }) => [
        ["button", { onclick: increment }, [["text", {}, "+"]]],
      ];
      const MinusButton = ({ decrement }) => [
        ["button", { onclick: decrement }, [["text", {}, "-"]]],
      ];
      const arr1 = [1, 2, 3, 4, 5];
      const arr2 = [1, 5, 4, 2, 3];
      const App = (_, state, setState) => [
        [Count, { count: state.count || 0 }],
        [
          AddButton,
          { increment: () => setState({ count: (state.count || 0) + 1 }) },
        ],
        [
          MinusButton,
          { decrement: () => setState({ count: (state.count || 0) - 1 }) },
        ],
        [
          "section",
          {},
          [
            ...(state.toggle ? arr1 : arr2).map((n) => [
              "div",
              { id: "div-n" + n },
              [["text", {}, n]],
            ]),
            [
              "button",
              { onclick: () => setState({ toggle: !state.toggle }) },
              [["text", {}, "toggle"]],
            ],
          ],
        ],
      ];
      render([App, {}], document.querySelector("#app"));
    </script>
  </body>
</html>
